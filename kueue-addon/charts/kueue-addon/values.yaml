# Default values for kueue-addon.
# This is a YAML-formatted file.

# Image configuration
image:
  repository: quay.io/open-cluster-management/kueue-addon
  tag: ""  # defaults to chart appVersion
  pullPolicy: IfNotPresent

# Skip cluster set binding
skipClusterSetBinding: false

# Placement configuration
placement:
  name: default

# Resource flavor
resourceFlavor:
  name: default-flavor

# Cluster queue
clusterQueue:
  name: cluster-queue
  namespaceSelector: "{}"  # match all namespaces
  resourceGroups:
  - coveredResources: ["cpu", "memory", "nvidia.com/gpu"]
    flavors:
    - name: "default-flavor"
      resources:
      - name: "cpu"
        nominalQuota: 9
      - name: "memory"
        nominalQuota: 36Gi
      - name: "nvidia.com/gpu"
        nominalQuota: 3

# Local queue
localQueue:
  name: user-queue
  namespace: default

# This is the namespace where the kueue controller is installed, will copy the multikueue secret to this namespace
# Default is kueue-system
kueue:
  namespace: "kueue-system"

# Cluster proxy configuration (optional)
clusterProxy:
  # URL for the cluster proxy service, used to access managed clusters through a proxy
  # When set, the controller will use this URL to connect to managed clusters
  # Example: "https://cluster-proxy.example.com/clusters/"
  url: ""

  # Enable impersonation feature for cluster proxy
  # When enabled, the ClusterRoleBinding subject will be set to the kueue-addon-controller service account
  # This allows the Kueue hub controller to impersonate requests through the cluster proxy
  impersonation:
    enabled: false

# NetworkPolicy configuration (uncomment when installKueueViaOperator enabled)
# Uncomment when using operator-based installation with network restrictions
# networkPolicy:
#   name: kueue-allow-egress-cluster-proxy-dns
#   namespace: "kueue-system"
#   spec: {}

# Enable Kueue installation via operator
installKueueViaOperator: false

# Operator Lifecycle Manager RBAC configuration (uncomment when installKueueViaOperator enabled)
# operatorLifecycleManager:
#   clusterRoleBindingName: <cluster-role-binding-name>
#   clusterRoleName: <cluster-role-name>

# Kueue Operator configuration (uncomment when installKueueViaOperator enabled)
# kueueOperator:
#   name: <operator-name>
#   namespace: <operator-namespace>
#   operatorGroupName: <operator-group-name>
#   channel: <channel-version>
#   source: <operator-source>
#   sourceNamespace: <source-namespace>
#   startingCSV: <starting-csv>

# Cert Manager Operator configuration (uncomment when installKueueViaOperator enabled)
# certManagerOperator:
#   name: <cert-manager-operator-name>
#   namespace: <cert-manager-namespace>
#   operatorGroupName: <cert-manager-operator-group>
#   channel: <cert-manager-channel>
#   source: <cert-manager-source>
#   sourceNamespace: <cert-manager-source-namespace>
#   startingCSV: <cert-manager-starting-csv>

# Kueue CR customization (uncomment when installKueueViaOperator enabled)
# kueueCR:
#   spec:
#     config:
#       integrations:
#         frameworks:
#         - BatchJob
#     managementState: Managed
